<?php
$Pays = [
    'Afghanistan' => 'Afghanistan',
    'Afrique du Sud' => 'Afrique du Sud',
    'Albanie' => 'Albanie',
    'Algérie' => 'Algérie',
    'Allemagne' => 'Allemagne',
    'Andorre' => 'Andorre',
    'Angola' => 'Angola',
    'Anguilla' => 'Anguilla',
    'Antarctique' => 'Antarctique',
    'Antigua-et-Barbuda' => 'Antigua-et-Barbuda',
    'Arabie saoudite' => 'Arabie saoudite',
    'Argentine' => 'Argentine',
    'Arménie' => 'Arménie',
    'Aruba' => 'Aruba',
    'Australie' => 'Australie',
    'Autriche' => 'Autriche',
    'Azerbaïdjan' => 'Azerbaïdjan',
    'Bahamas' => 'Bahamas',
    'Bahreïn' => 'Bahreïn',
    'Bangladesh' => 'Bangladesh',
    'Barbade' => 'Barbade',
    'Belgique' => 'Belgique',
    'Belize' => 'Belize',
    'Bénin' => 'Bénin',
    'Bermudes' => 'Bermudes',
    'Bhoutan' => 'Bhoutan',
    'Bolivie' => 'Bolivie',
    'Bosnie-Herzégovine' => 'Bosnie-Herzégovine',
    'Botswana' => 'Botswana',
    'Brésil' => 'Brésil',
    'Brunei' => 'Brunei',
    'Bulgarie' => 'Bulgarie',
    'Burkina Faso' => 'Burkina Faso',
    'Burundi' => 'Burundi',
    'Cambodge' => 'Cambodge',
    'Cameroun' => 'Cameroun',
    'Canada' => 'Canada',
    'Cap-Vert' => 'Cap-Vert',
    'Chili' => 'Chili',
    'Chine' => 'Chine',
    'Chypre' => 'Chypre',
    'Colombie' => 'Colombie',
    'Comores' => 'Comores',
    'Congo' => 'Congo',
    'Corée du Nord' => 'Corée du Nord',
    'Corée du Sud' => 'Corée du Sud',
    'Costa Rica' => 'Costa Rica',
    'Côte d\'Ivoire' => 'Côte d\'Ivoire',
    'Croatie' => 'Croatie',
    'Cuba' => 'Cuba',
    'Danemark' => 'Danemark',
    'Djibouti' => 'Djibouti',
    'Dominique' => 'Dominique',
    'Égypte' => 'Égypte',
    'Émirats arabes unis' => 'Émirats arabes unis',
    'Équateur' => 'Équateur',
    'Érythrée' => 'Érythrée',
    'Espagne' => 'Espagne',
    'Estonie' => 'Estonie',
    'États-Unis' => 'États-Unis',
    'Éthiopie' => 'Éthiopie',
    'Fidji' => 'Fidji',
    'Finlande' => 'Finlande',
    'France' => 'France',
    'Gabon' => 'Gabon',
    'Gambie' => 'Gambie',
    'Géorgie' => 'Géorgie',
    'Ghana' => 'Ghana',
    'Grèce' => 'Grèce',
    'Grenade' => 'Grenade',
    'Guatemala' => 'Guatemala',
    'Guinée' => 'Guinée',
    'Guinée-Bissau' => 'Guinée-Bissau',
    'Guyana' => 'Guyana',
    'Haïti' => 'Haïti',
    'Honduras' => 'Honduras',
    'Hongrie' => 'Hongrie',
    'Îles Cook' => 'Îles Cook',
    'Îles Marshall' => 'Îles Marshall',
    'Îles Salomon' => 'Îles Salomon',
    'Inde' => 'Inde',
    'Indonésie' => 'Indonésie',
    'Irak' => 'Irak',
    'Iran' => 'Iran',
    'Irlande' => 'Irlande',
    'Islande' => 'Islande',
    'Israël' => 'Israël',
    'Italie' => 'Italie',
    'Jamaïque' => 'Jamaïque',
    'Japon' => 'Japon',
    'Jordanie' => 'Jordanie',
    'Kazakhstan' => 'Kazakhstan',
    'Kenya' => 'Kenya',
    'Kirghizistan' => 'Kirghizistan',
    'Kiribati' => 'Kiribati',
    'Koweït' => 'Koweït',
    'Laos' => 'Laos',
    'Lesotho' => 'Lesotho',
    'Lettonie' => 'Lettonie',
    'Liban' => 'Liban',
    'Liberia' => 'Liberia',
    'Libye' => 'Libye',
    'Liechtenstein' => 'Liechtenstein',
    'Lituanie' => 'Lituanie',
    'Luxembourg' => 'Luxembourg',
    'Macédoine' => 'Macédoine',
    'Madagascar' => 'Madagascar',
    'Malaisie' => 'Malaisie',
    'Malawi' => 'Malawi',
    'Maldives' => 'Maldives',
    'Mali' => 'Mali',
    'Malte' => 'Malte',
    'Maroc' => 'Maroc',
    'Marshall' => 'Marshall',
    'Maurice' => 'Maurice',
    'Mauritanie' => 'Mauritanie',
    'Mexique' => 'Mexique',
    'Micronésie' => 'Micronésie',
    'Moldavie' => 'Moldavie',
    'Monaco' => 'Monaco',
    'Mongolie' => 'Mongolie',
    'Monténégro' => 'Monténégro',
    'Mozambique' => 'Mozambique',
    'Myanmar' => 'Myanmar',
    'Namibie' => 'Namibie',
    'Nauru' => 'Nauru',
    'Népal' => 'Népal',
    'Nicaragua' => 'Nicaragua',
    'Niger' => 'Niger',
    'Nigéria' => 'Nigéria',
    'Niue' => 'Niue',
    'Norvège' => 'Norvège',
    'Nouvelle-Zélande' => 'Nouvelle-Zélande',
    'Oman' => 'Oman',
    'Ouganda' => 'Ouganda',
    'Ouzbékistan' => 'Ouzbékistan',
    'Pakistan' => 'Pakistan',
    'Palaos' => 'Palaos',
    'Panama' => 'Panama',
    'Papouasie-Nouvelle-Guinée' => 'Papouasie-Nouvelle-Guinée',
    'Paraguay' => 'Paraguay',
    'Pays-Bas' => 'Pays-Bas',
    'Pérou' => 'Pérou',
    'Philippines' => 'Philippines',
    'Pologne' => 'Pologne',
    'Portugal' => 'Portugal',
    'Qatar' => 'Qatar',
    'République centrafricaine' => 'République centrafricaine',
    'République démocratique du Congo' => 'République démocratique du Congo',
    'République dominicaine' => 'République dominicaine',
    'République tchèque' => 'République tchèque',
    'Roumanie' => 'Roumanie',
    'Royaume-Uni' => 'Royaume-Uni',
    'Russie' => 'Russie',
    'Rwanda' => 'Rwanda',
    'Saint-Christophe-et-Niévès' => 'Saint-Christophe-et-Niévès',
    'Sainte-Lucie' => 'Sainte-Lucie',
    'Saint-Marin' => 'Saint-Marin',
    'Saint-Vincent-et-les-Grenadines' => 'Saint-Vincent-et-les-Grenadines',
    'Sainte-Hélène' => 'Sainte-Hélène',
    'Salvador' => 'Salvador',
    'Samoa' => 'Samoa',
    'Sao Tomé-et-Principe' => 'Sao Tomé-et-Principe',
    'Sénégal' => 'Sénégal',
    'Serbie' => 'Serbie',
    'Seychelles' => 'Seychelles',
    'Sierra Leone' => 'Sierra Leone',
    'Singapour' => 'Singapour',
    'Slovaquie' => 'Slovaquie',
    'Slovénie' => 'Slovénie',
    'Somalie' => 'Somalie',
    'Soudan' => 'Soudan',
    'Sri Lanka' => 'Sri Lanka',
    'Suède' => 'Suède',
    'Suisse' => 'Suisse',
    'Suriname' => 'Suriname',
    'Swaziland' => 'Swaziland',
    'Syrie' => 'Syrie', 
    'Tadjikistan' => 'Tadjikistan',
    'Tanzanie' => 'Tanzanie',
    'Tchad' => 'Tchad',
    'Thaïlande' => 'Thaïlande',
    'Timor-Leste' => 'Timor-Leste',
    'Togo' => 'Togo',
    'Tonga' => 'Tonga',
    'Trinité-et-Tobago' => 'Trinité-et-Tobago',
    'Tunisie' => 'Tunisie',
    'Turkménistan' => 'Turkménistan',   
    'Turquie' => 'Turquie',
    'Tuvalu' => 'Tuvalu',
    'Ukraine' => 'Ukraine',
    'Uruguay' => 'Uruguay',
    'Vanuatu' => 'Vanuatu',
    'Vatican' => 'Vatican',
    'Venezuela' => 'Venezuela',
    'Viêt Nam' => 'Viêt Nam',
    'Yémen' => 'Yémen',
    'Zambie' => 'Zambie',
    'Zimbabwe' => 'Zimbabwe',
];
$type_missions = [
    'surveillance' => 'Surveillance',
    'assassinat' => 'Assassinat',
    'infiltration' => 'Infiltration',
    'terrorisme' => 'Terrorisme',
    'espionnage' => 'Espionnage',
    'cyber-menaces' => 'Cyber-menaces',
    'Coup d\'Etat international' => 'Coup d\'Etat international',
    'sabotage' => 'Sabotage'
];
?>

<div class="col-12">
   
   
    <style>
     .page {
        margin-top: 2rem;
        display: block;
    }


    .page-number-active {
        margin-top: 2rem;
        display: block;
        border: 1px solid #ccc;
        border-radius: 50%;
        height: 50px;
        width: 50px;
        text-align: center;
        line-height: 50px;
        font-size: 20px;
        color: #ccc;
        cursor: pointer;
        background-color: green;
    }

    .page-number {
       display: none;        
    }
    </style>
    <header class="header-form">
        
    </header>

    <form action="mission-add" method="post" id="missionAdd">
        <div class="page" id="page1">
            <div class="form-group">
                <label for="titre">Titre</label>
                <input type="text" class="form-control" id="titre" name="titre" placeholder="Titre de la mission">
            </div>
            <div class="form-group">
                <label for="description">Description</label>
                <textarea class="form-control" id="description" name="description" rows="3"></textarea>
            </div>
            <div class="form-group">
                <label for="nom_code">Nom de code</label>
                <input type="text" class="form-control" id="nom_code" name="nom_code" placeholder="Nom de code">
            </div>
            <div class="form-group">
                <label for="type_mission">Type de mission</label>
                <select class="form-control" id="type_mission" name="type_mission">
                    <?php foreach ($type_missions as $key => $value) : ?>
                        <option value="<?= $key ?>"><?= $value ?></option>
                    <?php endforeach; ?>
                </select>
            </div>
            
            <div class="form-group">
                <label for="pays">Pays</label>
                <select class="form-control" id="pays" name="pays">
                    <?php foreach($Pays as $key => $capitale): ?>
                        <option value="<?php echo $key ?>"><?php echo $capitale ?></option>
                    <?php endforeach; ?>
                </select>
            </div>
           
            <div class="form-group">
                <bouton type="button" id="suivant" class="btn btn-primary button-page">Suivant</bouton>
            </div>
        </div>
        <div class="page" id="page2">
            <div class="form-group">
                <label for="cibles">Cibles</label>
                <span>choix multiple possible</span>
                <select class="form-control" id="cibles" multiple="multiple" name="cibles[]">
                    <?php foreach($cible as $cible): ?>
                        <option value="<?php echo $cible['id'] ?>"><?php echo $cible['nom'] ?> : <span style="font-size:0.5rem;"><?php echo $cible['nationalite']; ?></span></option>
                    <?php endforeach; ?>
                </select>
            </div>
            <div class="form-group">
                <label for="agents">Agents</label>
                <span>choix multiple possible</span>
                <p>Les agents sélectionnés seront automatiquement affectés à la mission.</p>
                          
                    <select class="form-control" multiple="multiple" id="agents" name="agents[]">
                    <?php foreach(listeAgent() as $agent): ?>
                      <?php  if($agent['nationalite'] != $cible['nationalite'] ): ?>
                            <option value="<?php echo $agent['id'] ?>"><?php echo $agent['nom']; ?> : <span style="font-size:0.5rem;"><?php echo $agent['nationalite']; ?></span></option>
                    <?php   else: echo "Il n'y aucun agent qu'il d'une nation&lité différente des cibles" ?>
                        <?php endif; ?>
                    <?php endforeach; ?>
                    </select>
            </div>
       
            
                
            
            <div class="form-group">
                <label for="contacts">Contacts</label>
                <span>choix multiple possible</span>        
                <select class="form-control" id="contacts" name="contacts[]" multiple>
                    <?php //Sur une mission, les contacts sont obligatoirement de la nationalité du pays de la mission. 
                    foreach(listeContact() as $contact): ?>
                        <?php if($contact['pays'] == $capitale): ?>
                            <option value="<?php echo $contact['id'] ?>"><?php echo $contact['nom'] ?></option>
                        <?php endif; ?>
                    <?php endforeach; ?>
                    
                </select>
               
            </div>
            <div class="form-group">
                <bouton type="button" class="btn btn-primary button-page">Suivant</bouton>
                <bouton type="button" class="btn btn-primary button-page-precedent">Precedent</bouton>
            </div>


        </div>
        <div class="page" id="page3">
            <div class="form-group">
                <label for="type_mission">Type de mission</label>
                <select class="form-control" id="type_mission" name="type_mission">
                    <?php foreach($type_missions as $key => $mission): ?>
                        <option value="<?php echo $key ?>"><?php echo $mission ?></option>
                    <?php endforeach; ?>
                </select>
            </div>
  
            <div class="form-group">
                <label for="date_debut">Date de début</label>
                <input type="date" class="form-control" id="date_debut" name="date_debut" placeholder="Date de début">
            </div>
            <div class="form-group">
                <label for="date_fin">Date de fin</label>
                <input type="date" class="form-control" id="date_fin" name="date_fin" placeholder="Date de fin">
            </div>            
            <div class="form-group">
                <bouton type="submit" class="btn btn-primary">Enregistrer</bouton>
                <bouton type="button" class="btn btn-primary button-page-precedent">Precedent</bouton>
            </div>
           
        </div>

    </form>

   



</div>